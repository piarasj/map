<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MapaLister - Welcome Overlay</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body style="margin: 0; padding: 20px; background: #f3f4f6; font-family: 'Outfit', sans-serif;">

<!-- Welcome Overlay (positioned where sidebar would be) -->
<div id="welcome-overlay" class="welcome-overlay">
    <div class="welcome-header">
        <div class="welcome-logo">
            <svg width="40" height="40" viewBox="0 0 32 32">
                <path d="M 6 0 L 26 0 A 6 6 0 0 1 32 6 L 32 16 L 16 16 L 16 3 A 2 2 0 0 0 14 1 L 6 1 A 6 6 0 0 1 6 0" fill="#e11d48"/>
                <path d="M 32 16 L 32 26 A 6 6 0 0 1 26 32 L 16 32 L 16 16" fill="#10b981"/>
                <path d="M 16 32 L 6 32 A 6 6 0 0 1 0 26 L 0 16 L 16 16" fill="#3b82f6"/>
                <path d="M 0 16 L 0 6 A 6 6 0 0 1 6 0 L 16 0 L 16 16" fill="#f59e0b"/>
                <rect x="3" y="3" width="26" height="26" rx="2" fill="white"/>
                <text x="16" y="25.4" text-anchor="middle" font-size="23.4" dominant-baseline="baseline">üìç</text>
            </svg>
        </div>
        <div class="welcome-brand">
            <span class="map">Map</span><span class="a">a</span><span class="list">List</span><span class="er">er</span>
        </div>
    </div>

    <div class="welcome-content">
        <h2>Welcome to MapaLister</h2>
        <p class="welcome-description">
            Take a list, show a map - interactive mapping with data visualization. You're seeing Irish counties and dioceses as an example. You have loaded no markers.
        </p>

        <!-- Interactive Controls Demo -->
        <div class="demo-section">
            <h3>üó∫Ô∏è Try the Interactive Overlays</h3>
            
            <div class="overlay-demo">
                <div class="overlay-control">
                    <div class="overlay-indicator dioceses">‚õ™</div>
                    <div class="overlay-info">
                        <div class="overlay-name">Irish Dioceses</div>
                        <div class="overlay-toggle-hint">
                            Press <kbd>I</kbd> to cycle: borders ‚Üí filled ‚Üí off
                        </div>
                    </div>
                    <div class="overlay-status active">ON</div>
                </div>

                <div class="overlay-control">
                    <div class="overlay-indicator counties">üèõÔ∏è</div>
                    <div class="overlay-info">
                        <div class="overlay-name">Irish Counties</div>
                        <div class="overlay-toggle-hint">
                            Press <kbd>O</kbd> to cycle: borders ‚Üí filled ‚Üí off
                        </div>
                    </div>
                    <div class="overlay-status active">ON</div>
                </div>
            </div>
        </div>

        <!-- Keyboard Shortcuts -->
        <div class="demo-section">
            <h3>‚å®Ô∏è Keyboard Shortcuts</h3>
            <div class="shortcuts-grid">
                <div class="shortcut-item">
                    <kbd>F</kbd>
                    <span>Upload GeoJSON file</span>
                </div>
                <div class="shortcut-item">
                    <kbd>S</kbd>
                    <span>Open settings</span>
                </div>
                <div class="shortcut-item">
                    <kbd>Right-click</kbd>
                    <span>Set reference point</span>
                </div>
                <div class="shortcut-item">
                    <kbd>C</kbd>
                    <span>Clear reference</span>
                </div>
            </div>
        </div>

        <!-- File Upload Section -->
        <div class="demo-section upload-section">
            <h3>üìÅ Get Started with Your Data</h3>
            <p>Upload a GeoJSON file to see your data on this map with powerful filtering and distance calculations.</p>
            
            <button id="upload-demo-btn" class="upload-btn">
                <span class="upload-icon">üìÅ</span>
                Choose GeoJSON File
            </button>
            
            <div class="upload-hint">
                Or drag & drop your .geojson file anywhere on the screen
            </div>
        </div>

        <!-- About Link -->
        <div class="demo-section">
            <div class="about-links">
                <a href="#" class="about-link" onclick="showAboutModal()">
                    ‚ÑπÔ∏è About MapaLister
                </a>
                <a href="#" class="about-link" onclick="showHelpModal()">
                    ‚ùì Help & Tutorial
                </a>
            </div>
        </div>
    </div>

    <!-- Dismiss Button -->
    <div class="welcome-footer">
        <button id="dismiss-welcome" class="dismiss-btn">
            ‚ú® Explore the Map
        </button>
        <div class="footer-note">
            This overlay will disappear when you upload data
        </div>
    </div>
</div>

<style>
.welcome-overlay {
    position: fixed;
    top: 0;
    right: 0;
    width: 380px;
    height: 100vh;
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
    border-left: 2px solid #e2e8f0;
    box-shadow: -4px 0 20px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    overflow-y: auto;
    font-family: 'Outfit', sans-serif;
    animation: slideInRight 0.6s ease-out;
}

@keyframes slideInRight {
    0% { transform: translateX(100%); opacity: 0; }
    100% { transform: translateX(0); opacity: 1; }
}

.welcome-header {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 20px;
    border-bottom: 2px solid #f1f5f9;
    background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
}

.welcome-brand {
    font-size: 1.4em;
    font-weight: 600;
    letter-spacing: -0.015em;
}

.welcome-brand .map { color: #e11d48; }
.welcome-brand .a { color: #f59e0b; }
.welcome-brand .list { color: #3b82f6; }
.welcome-brand .er { color: #10b981; }

.welcome-content {
    padding: 20px;
}

.welcome-content h2 {
    margin: 0 0 16px 0;
    color: #1f2937;
    font-size: 1.5em;
    font-weight: 600;
}

.welcome-description {
    color: #6b7280;
    font-size: 14px;
    line-height: 1.5;
    margin-bottom: 24px;
}

.demo-section {
    margin-bottom: 24px;
    padding-bottom: 20px;
    border-bottom: 1px solid #f3f4f6;
}

.demo-section:last-child {
    border-bottom: none;
}

.demo-section h3 {
    margin: 0 0 12px 0;
    color: #374151;
    font-size: 16px;
    font-weight: 600;
}

/* Overlay Controls */
.overlay-demo {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.overlay-control {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    transition: all 0.2s ease;
}

.overlay-control:hover {
    background: #f1f5f9;
    border-color: #cbd5e1;
    cursor: pointer;
}

.overlay-indicator {
    font-size: 20px;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    flex-shrink: 0;
}

.overlay-indicator.dioceses {
    background: rgba(139, 92, 246, 0.1);
}

.overlay-indicator.counties {
    background: rgba(59, 130, 246, 0.1);
}

.overlay-info {
    flex: 1;
}

.overlay-name {
    font-weight: 600;
    color: #374151;
    font-size: 14px;
    margin-bottom: 2px;
}

.overlay-toggle-hint {
    font-size: 11px;
    color: #6b7280;
}

.overlay-status {
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
}

.overlay-status.active {
    background: #dcfce7;
    color: #166534;
}

/* Keyboard Shortcuts */
.shortcuts-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
}

.shortcut-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px;
    background: #f9fafb;
    border-radius: 6px;
    font-size: 12px;
}

.shortcut-item kbd {
    background: #374151;
    color: white;
    padding: 4px 6px;
    border-radius: 4px;
    font-size: 10px;
    font-weight: 600;
    min-width: 24px;
    text-align: center;
}

/* Upload Section */
.upload-section {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    border: 1px solid #bae6fd;
    border-radius: 8px;
    padding: 16px;
    margin: 0 -4px;
}

.upload-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    background: linear-gradient(135deg, #3b82f6, #2563eb);
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    width: 100%;
    justify-content: center;
    margin-bottom: 8px;
}

.upload-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

.upload-hint {
    text-align: center;
    font-size: 11px;
    color: #0369a1;
    font-style: italic;
}

/* About Links */
.about-links {
    display: flex;
    gap: 16px;
    justify-content: center;
}

.about-link {
    display: flex;
    align-items: center;
    gap: 6px;
    color: #6b7280;
    text-decoration: none;
    font-size: 12px;
    padding: 6px 12px;
    border-radius: 6px;
    transition: all 0.2s ease;
}

.about-link:hover {
    background: #f3f4f6;
    color: #374151;
}

/* Welcome Footer */
.welcome-footer {
    padding: 20px;
    border-top: 2px solid #f1f5f9;
    background: #f8fafc;
    text-align: center;
}

.dismiss-btn {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    margin-bottom: 8px;
}

.dismiss-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.footer-note {
    font-size: 11px;
    color: #6b7280;
    font-style: italic;
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .welcome-overlay {
        width: 100%;
        left: 0;
        right: 0;
    }
    
    .shortcuts-grid {
        grid-template-columns: 1fr;
    }
}

/* Animations for interactive elements */
.overlay-control {
    position: relative;
    overflow: hidden;
}

.overlay-control::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    transition: left 0.5s;
}

.overlay-control:hover::before {
    left: 100%;
}
</style>

<script>
// Interactive overlay controls
document.querySelectorAll('.overlay-control').forEach(control => {
    control.addEventListener('click', function() {
        const isCounties = this.querySelector('.counties');
        const isDioceses = this.querySelector('.dioceses');
        
        if (isCounties) {
            // Trigger county toggle
            if (window.SettingsManager && window.SettingsManager.toggleIrishCounties) {
                window.SettingsManager.toggleIrishCounties();
            }
        } else if (isDioceses) {
            // Trigger diocese toggle
            if (window.SettingsManager && window.SettingsManager.toggleIrishDioceses) {
                window.SettingsManager.toggleIrishDioceses();
            }
        }
        
        // Visual feedback
        this.style.transform = 'scale(0.95)';
        setTimeout(() => {
            this.style.transform = 'scale(1)';
        }, 150);
    });
});

// Upload button
document.getElementById('upload-demo-btn').addEventListener('click', function() {
    if (window.FileUploadManager && window.FileUploadManager.triggerFileUpload) {
        window.FileUploadManager.triggerFileUpload();
    }
});

// Dismiss welcome overlay
document.getElementById('dismiss-welcome').addEventListener('click', function() {
    const overlay = document.getElementById('welcome-overlay');
    overlay.style.animation = 'slideOutRight 0.4s ease-in';
    setTimeout(() => {
        overlay.style.display = 'none';
    }, 400);
});

// About modal functions
function showAboutModal() {
    alert('About MapaLister:\n\nInteractive mapping platform for visualizing geographic data with powerful filtering, search, and distance calculation capabilities.\n\nBuilt for researchers, administrators, and data analysts who need to understand spatial relationships in their data.');
}

function showHelpModal() {
    alert('MapaLister Help:\n\n1. Upload GeoJSON files with your data\n2. Use overlays to provide geographic context\n3. Right-click to set reference points\n4. Calculate distances from reference points\n5. Filter and search your data\n6. Use keyboard shortcuts for efficiency\n\nPress F to upload files, S for settings, I/O for overlays.');
}

// Animation for slideOutRight
const style = document.createElement('style');
style.textContent = `
@keyframes slideOutRight {
    0% { transform: translateX(0); opacity: 1; }
    100% { transform: translateX(100%); opacity: 0; }
}
`;
document.head.appendChild(style);
</script>

</body>
</html>